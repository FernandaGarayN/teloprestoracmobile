<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Lista de vehículos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-button (click)="goToHome();"> Volver al Inicio </ion-button>
  <ion-button (click)="goToNew();"> Nuevo vehículo </ion-button>
  <ion-button *ngIf = "!enableDelete" (click)="enableDeleteFn();"> Eliminar vehículos </ion-button>
  <ion-list>
    <ion-item *ngFor = "let car of cars$ | async">
      <ion-checkbox (ionChange)="toggleDelete(car)" *ngIf = "enableDelete" labelPlacement="end"></ion-checkbox>
      <ion-label>{{car.brand}} {{car.model}}</ion-label>
      <ion-button [disabled] = "!car.available" [routerLink] = "['/cars',car.id]">ver detalles</ion-button>

    </ion-item>
  </ion-list>
  <ion-button [disabled] = "carsToDelete.length === 0" *ngIf ="enableDelete" (click)="deleteCars();"> Eliminar </ion-button>
</ion-content>
